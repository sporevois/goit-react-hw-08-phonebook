"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[676],{7676:function(e,n,t){t.r(n),t.d(n,{default:function(){return E}});var a=t(5861),r=t(885),s=t(4687),i=t.n(s),c=t(2791),o=t(5048),u=t(6351),d=function(){return(0,o.v9)(u.p1)},l=t(4903),m=function(e,n){return null===n||void 0===n?void 0:n.find((function(n){return n.name.toLocaleLowerCase()===e.toLocaleLowerCase()}))},h=t(9875),p="FormAddContact_formTitle__x825n",x="FormAddContact_form__IqSWD",b="FormAddContact_title__3XwaF",f="FormAddContact_field__gb4Cc",_="FormAddContact_btn__P4r9R",j=t(184),v=function(){var e=(0,c.useState)(""),n=(0,r.Z)(e,2),t=n[0],s=n[1],o=(0,c.useState)(""),u=(0,r.Z)(o,2),v=u[0],g=u[1],N=d(),C=(0,l.Tn)(),w=(0,r.Z)(C,2),F=w[0],y=w[1],A=y.isLoading,Z=y.error,k=(0,l.Jx)().data,S=function(){var e=(0,a.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!m(t,k)){e.next=3;break}return e.abrupt("return",alert("".concat(t," is already in contacts.")));case 3:return e.next=5,F({name:t,number:v});case 5:s(""),g("");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":return s(a);case"number":return g(a);default:return}};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h2",{className:p,children:"Phone book"}),(0,j.jsxs)("form",{className:x,onSubmit:S,children:[(0,j.jsxs)("label",{className:b,children:["Name",(0,j.jsx)("input",{className:f,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:t,disabled:N,onChange:L})]}),(0,j.jsxs)("label",{className:b,children:["Number",(0,j.jsx)("input",{className:f,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:v,disabled:N,onChange:L})]}),(0,j.jsx)("button",{className:_,type:"submit",disabled:A||N,children:A?(0,j.jsxs)("span",{children:["Adding...",(0,j.jsx)(h.X,{})]}):"Add contact"}),Z&&(0,j.jsxs)("b",{children:["Request failed with Error code ",Z.originalStatus]})]})]})},g=t(1634),N=function(){return(0,o.v9)(u.zK)},C="Filter_title__pSkfx",w="Filter_field__IlYZE",F=function(){var e=N(),n=d(),t=(0,o.I0)();return(0,j.jsxs)("label",{className:C,children:["Find conacts by name",(0,j.jsx)("input",{className:w,type:"text",name:"filter",value:e,disabled:n,onChange:function(e){var n=e.target.value;t((0,g.T)(n))}})]})},y=t(9473),A="UpdateForm_form__6GNFv",Z="UpdateForm_field__R0BvN",k="UpdateForm_wrapper__ioRdd",S="UpdateForm_btn__T6+tH",L="UpdateForm_error__IJDTN",z=function(e){var n=e.name,t=e.number,s=e.id,u=(0,l.wv)(),d=(0,r.Z)(u,2),m=d[0],p=d[1],x=p.isLoading,b=p.error,f=(0,c.useState)("".concat(n)),_=(0,r.Z)(f,2),v=_[0],g=_[1],N=(0,c.useState)("".concat(t)),C=(0,r.Z)(N,2),w=C[0],F=C[1],z=(0,o.I0)(),q=function(){var e=(0,a.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t={id:s,values:{name:v,number:w}},e.next=4,m(t);case 4:z((0,y.m)(null));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"newName":return g(a);case"newNumber":return F(a);default:return}};return(0,j.jsxs)("form",{className:A,onSubmit:q,children:[(0,j.jsx)("input",{className:Z,type:"text",name:"newName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:v,onChange:I}),(0,j.jsx)("input",{className:Z,type:"tel",name:"newNumber",value:w,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:I}),(0,j.jsxs)("div",{className:k,children:[(0,j.jsx)("button",{className:S,type:"submit",disabled:n===v&&t===w,children:x?(0,j.jsxs)("span",{children:[(0,j.jsx)(h.X,{}),"Saving..."]}):"Save"}),(0,j.jsx)("button",{className:S,type:"button",onClick:function(){return z((0,y.m)(null))},children:"Cancel"})]}),b&&(0,j.jsx)("p",{className:L,children:"Something gone wrong"})]})},q="ContactItem_btn__1h5dG",I="ContactItem_item__gxreB",D=function(e){var n=e.name,t=e.number,a=e.id,s=(0,l.Nt)(),i=(0,r.Z)(s,2),c=i[0],u=i[1],m=u.isLoading,p=u.error,x=(0,o.I0)(),b=d();return(0,j.jsxs)(j.Fragment,{children:[p&&(0,j.jsxs)("b",{children:["Request failed with Error code ",p.originalStatus]}),(0,j.jsxs)("li",{className:I,children:[b===a?(0,j.jsx)(z,{name:n,number:t,id:a}):(0,j.jsxs)("span",{children:[n,": ",t]}),b!==a&&(0,j.jsxs)("span",{children:[(0,j.jsx)("button",{className:q,type:"button",onClick:function(){return c(a)},disabled:m||b,children:m?(0,j.jsxs)("span",{children:["Deleting...",(0,j.jsx)(h.X,{})]}):"Delete"}),(0,j.jsx)("button",{className:q,type:"button",onClick:function(){return x((0,y.m)(a))},disabled:m||b,children:"Edit"})]})]})]})},J="ContactList_title__gpugJ",R=function(){var e=(0,l.Jx)(),n=e.data,t=e.isLoading,a=e.error,r=function(e,n){if(!n)return e;var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}(n,N());return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h2",{className:J,children:"Contacts"}),t&&(0,j.jsx)(h._,{}),a&&(0,j.jsxs)("b",{children:["Request failed with Error code ",a.originalStatus]}),(0,j.jsx)("ul",{children:null===r||void 0===r?void 0:r.map((function(e){var n=e.id,t=e.name,a=e.number;return(0,j.jsx)(D,{name:t,number:a,id:n},n)}))})]})},E=function(){return(0,j.jsxs)("div",{children:[(0,j.jsx)(v,{}),(0,j.jsx)(F,{}),(0,j.jsx)(R,{})]})}}}]);
//# sourceMappingURL=676.67fb5d1c.chunk.js.map