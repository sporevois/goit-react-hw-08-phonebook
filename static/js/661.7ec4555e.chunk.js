"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[661],{661:function(e,n,t){function r(e,n,t,r,a,s,i){try{var o=e[s](i),c=o.value}catch(u){return void t(u)}o.done?n(c):Promise.resolve(c).then(r,a)}t.r(n),t.d(n,{default:function(){return A}});var a=t(885),s=t(757),i=t.n(s),o=t(791),c=t(903),u=function(e,n){return null===n||void 0===n?void 0:n.find((function(n){return n.name.toLocaleLowerCase()===e.toLocaleLowerCase()}))},l=t(673),d="FormAddContact_form__IqSWD",h="FormAddContact_title__3XwaF",m="FormAddContact_field__gb4Cc",f="FormAddContact_btn__P4r9R",x=t(184),p=function(){var e=(0,o.useState)(""),n=(0,a.Z)(e,2),t=n[0],s=n[1],p=(0,o.useState)(""),_=(0,a.Z)(p,2),b=_[0],v=_[1],j=(0,c.Tn)(),g=(0,a.Z)(j,2),C=g[0],w=g[1],N=w.isLoading,y=w.error,k=(0,c.Jx)().data,A=function(){var e,n=(e=i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!u(t,k)){e.next=3;break}return e.abrupt("return",alert("".concat(t," is already in contacts.")));case 3:return e.next=5,C({name:t,phone:b});case 5:s(""),v("");case 7:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(a,s){var i=e.apply(n,t);function o(e){r(i,a,s,o,c,"next",e)}function c(e){r(i,a,s,o,c,"throw",e)}o(void 0)}))});return function(e){return n.apply(this,arguments)}}(),F=function(e){var n=e.target,t=n.name,r=n.value;switch(t){case"name":return s(r);case"phone":return v(r);default:return}};return(0,x.jsxs)("form",{className:d,onSubmit:A,children:[(0,x.jsxs)("label",{className:h,children:["Name",(0,x.jsx)("input",{className:m,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:t,onChange:F})]}),(0,x.jsxs)("label",{className:h,children:["Number",(0,x.jsx)("input",{className:m,type:"tel",name:"phone",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:b,onChange:F})]}),(0,x.jsx)("button",{className:f,type:"submit",disabled:N,children:N?(0,x.jsxs)("span",{children:["Adding...",(0,x.jsx)(l.X,{})]}):"Add contact"}),y&&(0,x.jsxs)("b",{children:["Request failed with Error code ",y.originalStatus]})]})},_=t(634),b=function(e){return e.filter},v=t(48),j="Filter_title__pSkfx",g="Filter_field__IlYZE",C=function(){var e=(0,v.v9)(b),n=(0,v.I0)();return(0,x.jsxs)("label",{className:j,children:["Find conacts by name",(0,x.jsx)("input",{className:g,type:"text",name:"filter",value:e,onChange:function(e){var t=e.target.value,r=(0,_.T)(t);n(r)}})]})},w="ContactItem_btn__1h5dG",N="ContactItem_item__gxreB",y=function(e){var n=e.name,t=e.number,r=e.id,s=(0,c.Nt)(),i=(0,a.Z)(s,2),o=i[0],u=i[1],d=u.isLoading,h=u.error;return(0,x.jsxs)(x.Fragment,{children:[h&&(0,x.jsxs)("b",{children:["Request failed with Error code ",h.originalStatus]}),(0,x.jsxs)("li",{className:N,children:[n,": ",t,(0,x.jsx)("button",{className:w,type:"button",onClick:function(){return o(r)},disabled:d,children:d?(0,x.jsxs)("span",{children:["Deleting...",(0,x.jsx)(l.X,{})]}):"Delete"})]})]})},k=function(){var e=(0,c.Jx)(),n=e.data,t=e.isLoading,r=e.error,a=function(e,n){if(!n)return e;var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}(n,(0,v.v9)(b));return(0,x.jsxs)(x.Fragment,{children:[t&&(0,x.jsx)(l._,{}),r&&(0,x.jsxs)("b",{children:["Request failed with Error code ",r.originalStatus]}),(0,x.jsx)("ul",{children:null===a||void 0===a?void 0:a.map((function(e){var n=e.id,t=e.name,r=e.number;return(0,x.jsx)(y,{name:t,number:r,id:n},n)}))})]})},A=function(){return(0,x.jsxs)("div",{style:{padding:"15px",fontSize:"20px",color:"#010101"},children:[(0,x.jsx)("h1",{children:"Phonebook"}),(0,x.jsx)(p,{}),(0,x.jsx)("h2",{children:"Contacts"}),(0,x.jsx)(C,{}),(0,x.jsx)(k,{})]})}}}]);
//# sourceMappingURL=661.7ec4555e.chunk.js.map