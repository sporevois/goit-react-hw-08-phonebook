"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[557],{1557:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var a=t(5861),r=t(885),s=t(4687),i=t.n(s),c=t(2791),o=t(4903),u=function(e,n){return null===n||void 0===n?void 0:n.find((function(n){return n.name.toLocaleLowerCase()===e.toLocaleLowerCase()}))},d=t(9875),l="FormAddContact_form__IqSWD",m="FormAddContact_title__3XwaF",h="FormAddContact_field__gb4Cc",p="FormAddContact_btn__P4r9R",x=t(184),b=function(){var e=(0,c.useState)(""),n=(0,r.Z)(e,2),t=n[0],s=n[1],b=(0,c.useState)(""),f=(0,r.Z)(b,2),j=f[0],v=f[1],_=(0,o.Tn)(),g=(0,r.Z)(_,2),C=g[0],w=g[1],N=w.isLoading,y=w.error,A=(0,o.Jx)().data,Z=function(){var e=(0,a.Z)(i().mark((function e(n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!u(t,A)){e.next=3;break}return e.abrupt("return",alert("".concat(t," is already in contacts.")));case 3:return e.next=5,C({name:t,number:j});case 5:s(""),v("");case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":return s(a);case"number":return v(a);default:return}};return(0,x.jsxs)("form",{className:l,onSubmit:Z,children:[(0,x.jsxs)("label",{className:m,children:["Name",(0,x.jsx)("input",{className:h,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:t,onChange:k})]}),(0,x.jsxs)("label",{className:m,children:["Number",(0,x.jsx)("input",{className:h,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,value:j,onChange:k})]}),(0,x.jsx)("button",{className:p,type:"submit",disabled:N,children:N?(0,x.jsxs)("span",{children:["Adding...",(0,x.jsx)(d.X,{})]}):"Add contact"}),y&&(0,x.jsxs)("b",{children:["Request failed with Error code ",y.originalStatus]})]})},f=t(1634),j=t(6351),v=t(5048),_="Filter_title__pSkfx",g="Filter_field__IlYZE",C=function(){var e=(0,v.v9)(j.zK),n=(0,v.I0)();return(0,x.jsxs)("label",{className:_,children:["Find conacts by name",(0,x.jsx)("input",{className:g,type:"text",name:"filter",value:e,onChange:function(e){var t=e.target.value,a=(0,f.T)(t);n(a)}})]})},w=t(9473),N=function(e){var n=e.name,t=e.number,s=e.id,u=(0,o.wv)(),l=(0,r.Z)(u,2),m=l[0],h=l[1].isLoading,p=(0,c.useState)("".concat(n)),b=(0,r.Z)(p,2),f=b[0],j=b[1],_=(0,c.useState)("".concat(t)),g=(0,r.Z)(_,2),C=g[0],N=g[1],y=(0,v.I0)(),A=function(){var e=(0,a.Z)(i().mark((function e(n){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t={id:s,values:{name:f,number:C}},e.next=4,m(t);case 4:y((0,w.m)(!1));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Z=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"newName":return j(a);case"newNumber":return N(a);default:return}};return(0,x.jsxs)("form",{onSubmit:A,children:[(0,x.jsx)("input",{type:"text",name:"newName",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,value:f,onChange:Z}),(0,x.jsx)("input",{type:"tel",name:"newNumber",value:C,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:Z}),(0,x.jsx)("button",{type:"submit",disabled:n===f&&t===C,children:h?(0,x.jsxs)("span",{children:[(0,x.jsx)(d.X,{}),"Saving..."]}):"Save"}),(0,x.jsx)("button",{type:"button",onClick:function(){return y((0,w.m)(!1))},children:"Cancel"})]})},y="ContactItem_btn__1h5dG",A="ContactItem_item__gxreB",Z=function(e){var n=e.name,t=e.number,a=e.id,s=(0,o.Nt)(),i=(0,r.Z)(s,2),c=i[0],u=i[1],l=u.isLoading,m=u.error,h=(0,v.I0)(),p=(0,v.v9)(j.p1);return(0,x.jsxs)(x.Fragment,{children:[m&&(0,x.jsxs)("b",{children:["Request failed with Error code ",m.originalStatus]}),(0,x.jsxs)("li",{className:A,children:[p?(0,x.jsx)(N,{name:n,number:t,id:a}):(0,x.jsxs)("span",{children:[n,": ",t]}),!p&&(0,x.jsxs)("span",{children:[(0,x.jsx)("button",{className:y,type:"button",onClick:function(){return c(a)},disabled:l,children:l?(0,x.jsxs)("span",{children:["Deleting...",(0,x.jsx)(d.X,{})]}):"Delete"}),(0,x.jsx)("button",{className:y,type:"button",onClick:function(){return h((0,w.m)(!0))},disabled:l,children:"Edit"})]})]})]})},k=function(){var e=(0,o.Jx)(),n=e.data,t=e.isLoading,a=e.error,r=function(e,n){if(!n)return e;var t=n.toLowerCase();return e.filter((function(e){return e.name.toLowerCase().includes(t)}))}(n,(0,v.v9)(j.zK));return(0,x.jsxs)(x.Fragment,{children:[t&&(0,x.jsx)(d._,{}),a&&(0,x.jsxs)("b",{children:["Request failed with Error code ",a.originalStatus]}),(0,x.jsx)("ul",{children:null===r||void 0===r?void 0:r.map((function(e){var n=e.id,t=e.name,a=e.number;return(0,x.jsx)(Z,{name:t,number:a,id:n},n)}))})]})},S={container:"Contacts_container__WzsIr"},F=function(){return(0,x.jsx)("div",{className:S.container,children:(0,x.jsxs)("div",{className:S.wrapper,children:[(0,x.jsx)("h2",{children:"Phonebook"}),(0,x.jsx)(b,{}),(0,x.jsx)("h2",{children:"Contacts"}),(0,x.jsx)(C,{}),(0,x.jsx)(k,{})]})})}}}]);
//# sourceMappingURL=557.d5d537ca.chunk.js.map